#!/usr/bin/env python3
"""
Sales Materials Generator for French Legal RAG System
Creates email templates, demo scripts, and sales materials
"""

import os
from datetime import datetime
from config import EMAIL_TEMPLATES, PRICING_TIERS, TARGET_CITIES, LEGAL_SPECIALTIES

def generate_cold_email_templates():
    """Generate personalized cold email templates"""
    
    templates = {
        "initial_outreach": """
Objet: Cabinet {firm_name} - 70% moins de temps sur la recherche juridique

Bonjour {first_name},

J'ai remarqu√© que votre cabinet {firm_name} traite beaucoup de dossiers {specialty}.

Question rapide : combien d'heures par semaine votre √©quipe passe-t-elle √† chercher des pr√©c√©dents dans vos archives papier et num√©riques ?

Notre Assistant Juridique IA peut r√©duire ce temps de 70% en trouvant instantan√©ment les bonnes r√©ponses avec citations exactes.

‚úÖ Sp√©cialis√© droit fran√ßais
‚úÖ R√©ponses avec sources cit√©es
‚úÖ 100% conforme RGPD
‚úÖ Installation en 24h

Int√©ress√© par une d√©mo de 15 minutes cette semaine ?

Cordialement,
{sender_name}
{sender_title}

P.S. Garantie satisfait ou rembours√© - comme le Cabinet {reference_firm} de {city} qui √©conomise d√©j√† 15h/semaine.

üìß {email}
üì± {phone}
        """,
        
        "follow_up_1": """
Objet: Suivi - [URGENT] Cabinet {firm_name} perd-il 3h/jour ?

Bonjour {first_name},

Je vous avais contact√© concernant notre Assistant Juridique IA qui fait gagner 15h/semaine aux cabinets.

Nouvelle mise √† jour : un cabinet de {city} vient de calculer ‚Ç¨1,200/mois d'√©conomies en temps de recherche gr√¢ce √† notre outil.

D√©tails de leur cas :
‚Ä¢ 3 associ√©s, 8 collaborateurs
‚Ä¢ Sp√©cialit√© : {specialty}
‚Ä¢ ROI : 280% en 4 mois
‚Ä¢ Temps √©conomis√© : 18h/semaine

Toujours int√©ress√© par une d√©mo ?

R√©pondez simplement par "OUI" et je vous envoie le lien Calendly.

{sender_name}
        """,
        
        "demo_booking": """
Objet: [DERNI√àRE CHANCE] 3 cr√©neaux d√©mo restants cette semaine

Bonjour {first_name},

Seulement 3 places restantes cette semaine pour notre d√©mo exclusive Assistant Juridique IA.

Ce que vous verrez en 15 minutes :
‚úì Analyse instantan√©e de VOS vrais contrats
‚úì R√©ponses pr√©cises avec sources cit√©es fran√ßaises
‚úì Calcul ROI personnalis√© pour {firm_name}
‚úì D√©monstration live sur vos documents

Cr√©neaux disponibles :
‚Ä¢ Mardi 14h-14h15
‚Ä¢ Mercredi 10h-10h15  
‚Ä¢ Jeudi 16h-16h15

R√©servez maintenant : [CALENDLY_LINK]

Apr√®s la d√©mo, vous repartirez avec :
üìä Audit gratuit de vos processus de recherche
üí∞ Calcul pr√©cis de vos √©conomies potentielles
üéÅ Guide "10 Astuces IA pour Avocats" (valeur ‚Ç¨200)

√Ä bient√¥t,
{sender_name}
        """,
        
        "post_demo_close": """
Objet: Merci pour la d√©mo - Proposition {firm_name}

Bonjour {first_name},

Merci pour votre temps lors de notre d√©monstration.

Comme promis, voici votre proposition personnalis√©e :

**OFFRE SP√âCIALE CABINET {firm_name}**
üéØ Pack Starter Premium
‚Ä¢ Installation : ‚Ç¨2,500 (au lieu de ‚Ç¨5,000) - 50% de r√©duction
‚Ä¢ Abonnement : ‚Ç¨1,500/mois (engagement 12 mois)
‚Ä¢ Formation √©quipe : GRATUITE (valeur ‚Ç¨800)
‚Ä¢ Support prioritaire : 3 mois OFFERTS

**ROI CALCUL√â POUR VOTRE CABINET :**
‚Ä¢ Temps √©conomis√© : 15h/semaine
‚Ä¢ √âconomies annuelles : ‚Ç¨15,600
‚Ä¢ Retour sur investissement : 3 mois

**BONUS SI SIGNATURE AVANT VENDREDI :**
‚Ä¢ 2√®me mois GRATUIT
‚Ä¢ Migration donn√©es GRATUITE
‚Ä¢ Audit s√©curit√© OFFERT

Questions ? Appelez-moi directement : {phone}

Pr√™t √† r√©volutionner {firm_name} ?

{sender_name}
        """,
        
        "objection_handling": {
            "prix_trop_cher": """
Je comprends votre pr√©occupation sur le prix.

Regardons les chiffres :
‚Ä¢ Co√ªt actuel recherche : 15h √ó ‚Ç¨80/h = ‚Ç¨1,200/semaine
‚Ä¢ Co√ªt annuel actuel : ‚Ç¨62,400
‚Ä¢ Co√ªt Assistant IA : ‚Ç¨18,000/an
‚Ä¢ √âconomies nettes : ‚Ç¨44,400/an

Le "co√ªt" r√©el c'est de ne PAS l'avoir.

Cabinet Martin (Lyon) : "On aurait d√ª le faire plus t√¥t, on a perdu ‚Ç¨30,000 en productivit√© l'ann√©e derni√®re."
            """,
            
            "besoin_reflexion": """
Bien s√ªr, c'est une d√©cision importante.

Pendant votre r√©flexion, vos concurrents avancent :
‚Ä¢ Cabinet Durand : 20% de productivit√© en plus
‚Ä¢ SCP Martin : 3 nouveaux clients gr√¢ce au temps lib√©r√©
‚Ä¢ Avocats & Associ√©s : Facturation +15% avec m√™me √©quipe

Question : dans 6 mois, voulez-vous √™tre celui qui a saisi l'opportunit√© ou celui qui la regarde passer ?

Rendez-vous t√©l√©phonique de 10 minutes pour clarifier vos questions ?
            """,
            
            "deja_solution": """
Excellent ! Quelle solution utilisez-vous actuellement ?

La plupart de nos clients venaient de :
‚Ä¢ LexisNexis (pas adapt√© droit fran√ßais)
‚Ä¢ Doctrine (pas d'IA contextuelle)  
‚Ä¢ Solutions internes (limit√©es)

Nos avantages uniques :
‚úÖ 100% sp√©cialis√© droit fran√ßais
‚úÖ IA entra√Æn√©e sur jurisprudence fran√ßaise
‚úÖ Int√©gration vos documents internes
‚úÖ Support expert juridique fran√ßais

Comparaison rapide de 15 minutes ?
            """
        }
    }
    
    return templates

def generate_demo_script():
    """Generate complete demo script for sales presentations"""
    
    return """
========================================================
üéØ SCRIPT DE D√âMONSTRATION - ASSISTANT JURIDIQUE IA
========================================================

DUR√âE : 15 minutes
OBJECTIF : Fermer la vente ou obtenir engagement ferme

üìã CHECKLIST PRE-D√âMO :
‚ñ° Documents clients charg√©s
‚ñ° Calcul ROI personnalis√© pr√©par√©  
‚ñ° R√©f√©rences clients du m√™me secteur
‚ñ° Proposition commerciale pr√™te
‚ñ° Calendrier signature disponible

========================================================
‚è∞ PHASE 1 : ACCROCHE (2 minutes)
========================================================

"Bonjour {pr√©nom}, merci de me consacrer 15 minutes.

Dans le secteur juridique, 73% du temps est perdu en recherche documentaire.
Votre cabinet {nom_cabinet} traite {nb_dossiers} dossiers/mois, c'est environ {heures_perdues}h de recherche pure.

Aujourd'hui, je vais vous montrer comment diviser ce temps par 10.

‚û°Ô∏è Premi√®re question : combien de temps votre √©quipe passe-t-elle par jour √† chercher des pr√©c√©dents ?"

[ATTENDRE LA R√âPONSE - NOTER LE CHIFFRE]

"Parfait. Gardez ce chiffre en t√™te, on va le transformer en euros √©conomis√©s."

========================================================
‚è∞ PHASE 2 : PROBL√àME (3 minutes)  
========================================================

"Laissez-moi deviner vos frustrations quotidiennes :

üîç 'O√π est ce jugement de 2019 sur les baux commerciaux ?'
üìÑ 'Il me faut 2h pour trouver cette jurisprudence'
‚è∞ 'On refait toujours les m√™mes recherches'
üí∞ 'Temps perdu = client factur√© moins = marge r√©duite'

C'est √ßa ?"

[LAISSER CONFIRMER]

"Le probl√®me : vos archives sont dispers√©es, non-connect√©es, et impossible √† interroger intelligemment.

R√©sultat : {heures_perdues}h √ó {taux_horaire}‚Ç¨ = {co√ªt_semaine}‚Ç¨ perdus par SEMAINE.
Sur l'ann√©e : {co√ªt_annuel}‚Ç¨ qui s'√©vaporent."

========================================================  
‚è∞ PHASE 3 : D√âMONSTRATION (8 minutes)
========================================================

"Maintenant regardez √ßa. Je vais utiliser VOS documents r√©els."

üé¨ D√âMO LIVE :
1. "Glissez-d√©posez vos 20 derniers contrats"
   [UPLOADER LES DOCS CLIENTS]
   
2. "Question complexe : 'Quelles sont les clauses r√©solutoires dans mes baux commerciaux avec d√©lai inf√©rieur √† 60 jours ?'"
   [TAPER LA REQU√äTE]
   
3. "R√©sultat en... 12 secondes. Avec sources exactes."
   [MONTRER LA R√âPONSE + CITATIONS]
   
4. "M√™me exercice : 'Jurisprudences Cour de Cassation 2023 sur r√©siliation anticip√©e'"
   [NOUVELLE RECHERCHE - R√âSULTAT IMM√âDIAT]

"Temps traditionnel pour ces 2 recherches : 2h30
Temps avec Assistant IA : 45 secondes
Gain : 97%"

"Questions sur la d√©mo ?"

========================================================
‚è∞ PHASE 4 : ROI & B√âN√âFICES (1 minute)
========================================================

"Calcul personnalis√© {nom_cabinet} :

üí∞ √âCONOMIES ANNUELLES :
‚Ä¢ Temps √©conomis√© : {heures_semaine}h/semaine  
‚Ä¢ Valeur horaire : {taux_horaire}‚Ç¨
‚Ä¢ √âconomies annuelles : {economies_annuelles}‚Ç¨

üöÄ B√âN√âFICES ADDITIONNELS :
‚Ä¢ R√©ponses plus pr√©cises = clients satisfaits
‚Ä¢ Temps lib√©r√© = nouveaux dossiers  
‚Ä¢ √âquipe motiv√©e = moins de turnover
‚Ä¢ Image innovante = avantage concurrentiel

ROI : {pourcentage_roi}% en {nb_mois} mois"

========================================================
‚è∞ PHASE 5 : FERMETURE (1 minute)
========================================================

"Questions : avez-vous vu autre chose d'aussi puissant ?"
[ATTENDRE NON]

"Parfait. Deux options pour {nom_cabinet} :

OPTION 1 - Pack Starter : ‚Ç¨5,000 installation + ‚Ç¨1,500/mois
OPTION 2 - Pack Pro : ‚Ç¨8,000 installation + ‚Ç¨2,500/mois  

Lequel correspond mieux √† vos besoins ?"

[SI H√âSITATION] 
"Je vous propose ceci : signature aujourd'hui = 50% sur l'installation + 1er mois offert.

Vous √©conomisez {economie_immediate}‚Ç¨ et commencez d√®s lundi.

March√© conclu ?"

========================================================
üö® GESTION DES OBJECTIONS
========================================================

‚ùì "C'est cher"
‚û°Ô∏è "Cher compar√© √† quoi ? Perdre {co√ªt_annuel}‚Ç¨/an en inefficacit√© ?"

‚ùì "Il faut que j'en parle"  
‚û°Ô∏è "Bien s√ªr. √Ä qui ? Je peux les avoir au t√©l√©phone maintenant ?"

‚ùì "On a d√©j√† une solution"
‚û°Ô∏è "Parfait ! Elle fait √ßa ?" [RE-D√âMONSTRATION]

‚ùì "Pas maintenant"
‚û°Ô∏è "Quand exactement ? Calendrier septembre ?" [SORTIR L'AGENDA]

========================================================
‚úÖ CHECKLIST CLOSING
========================================================

‚ñ° D√©cision prise (OUI/NON/QUAND)
‚ñ° Budget confirm√©  
‚ñ° Processus de d√©cision clarifi√©
‚ñ° Prochaine √©tape programm√©e
‚ñ° Contrat envoy√© si signature
‚ñ° Suivi dans CRM

========================================================
üìä R√âSULTATS ATTENDUS
========================================================

‚Ä¢ Taux de fermeture : 20-25%
‚Ä¢ Dur√©e cycle vente : 2-3 semaines
‚Ä¢ Panier moyen : ‚Ç¨25,000 premi√®re ann√©e
‚Ä¢ R√©currence : 95%+ apr√®s 6 mois

========================================================
    """

def generate_linkedin_content():
    """Generate LinkedIn posts for content marketing"""
    
    posts = {
        "testimonial": """
üèÜ Cabinet Martin & Associ√©s (Lyon) t√©moigne :

"Avant l'Assistant Juridique IA : 3h par jour en recherche documentaire
Aujourd'hui : 20 minutes maximum

R√©sultat : +18h productives par semaine, soit +‚Ç¨1,440 de facturation additionnelle.

ROI calcul√© : 280% en 4 mois."

Ma√Ætre Martin, Associ√© Principal

#DroitFrancais #Innovation #Productivit√© #IA #Avocats
        """,
        
        "problem_agitation": """
‚ùå COMBIEN D'ARGENT votre cabinet perd-il chaque jour ?

Calcul simple :
üë®‚Äçüíº 3 avocats √ó 2h de recherche/jour √ó ‚Ç¨80/h = ‚Ç¨480/jour
üìÖ 480‚Ç¨ √ó 220 jours ouvr√©s = ‚Ç¨105,600/an EN PURE PERTE

Multipliez par le nombre d'avocats dans votre cabinet...

üí° Solution : Assistant Juridique IA
‚úÖ Recherche en 30 secondes au lieu de 2h
‚úÖ Sources cit√©es pr√©cises  
‚úÖ Conforme RGPD

Qui veut arr√™ter de perdre de l'argent ? üí¨

#CabinetJuridique #Rentabilit√© #Innovation
        """,
        
        "social_proof": """
üéØ 15 CABINETS D'AVOCATS adoptent l'IA chaque mois en France

Pourquoi cette acc√©l√©ration ?

üìä √âtude exclusive (50 cabinets) :
‚Ä¢ 73% du temps perdu en recherche documentaire
‚Ä¢ ‚Ç¨50,000/an de productivit√© gaspill√©e par cabinet  
‚Ä¢ 85% des avocats frustr√©s par l'inefficacit√©

üöÄ Les pionniers prennent d√©j√† l'avantage :
‚úÖ +40% de productivit√©
‚úÖ +20% de nouveaux clients (temps lib√©r√©)
‚úÖ +15% de marge (moins de co√ªts cach√©s)

Question : votre cabinet sera-t-il leader ou suiveur ?

#TransformationNum√©rique #Avocats #IA
        """,
        
        "feature_highlight": """
üéØ POURQUOI nos clients choisissent-ils l'Assistant Juridique IA ?

Comparaison avec la concurrence :

‚ùå Solutions g√©n√©riques :
‚Ä¢ Adapt√©es droit US/anglais
‚Ä¢ R√©ponses approximatives
‚Ä¢ Pas de sources fran√ßaises

‚úÖ Notre Assistant IA :
‚Ä¢ 100% sp√©cialis√© droit fran√ßais
‚Ä¢ Citations jurisprudence fran√ßaise exactes
‚Ä¢ Int√©gration Code civil, Code commerce, etc.
‚Ä¢ Support expert juridique fran√ßais

R√©sultat : 95% de pr√©cision vs 60% pour les solutions g√©n√©riques

Vous m√©ritez du sur-mesure fran√ßais üá´üá∑

#DroitFrancais #Sp√©cialisation #Qualit√©
        """,
        
        "urgency_scarcity": """
‚ö†Ô∏è ALERTE : Places limit√©es programme janvier 2024

Nous accompagnons maximum 10 nouveaux cabinets/mois pour garantir la qualit√©.

Cabinets d√©j√† s√©lectionn√©s janvier :  
‚úÖ Cabinet Dubois (Marseille) - Droit des affaires
‚úÖ SCP Martin-Legrand (Toulouse) - Immobilier  
‚úÖ Avocats & Associ√©s (Nantes) - Droit social
‚úÖ Cabinet Moreau (Bordeaux) - Droit de la famille
‚úÖ Me Petit & Partenaires (Lille) - Droit p√©nal

5 places restantes.

Crit√®res de s√©lection :
‚Ä¢ 5-50 avocats
‚Ä¢ Hors Paris (concurrence satur√©e)
‚Ä¢ Volont√© d'innovation
‚Ä¢ Budget ‚Ç¨15,000+ annuel

Votre cabinet est-il √©ligible ? 
Audit gratuit : [LIEN]

#OpportunityLimited #Innovation #Croissance
        """
    }
    
    return posts

def create_sales_package():
    """Create complete sales package with all materials"""
    
    package_dir = "/root/LearnRag/sales_package"
    os.makedirs(package_dir, exist_ok=True)
    
    # Email templates
    email_templates = generate_cold_email_templates()
    with open(f"{package_dir}/email_templates.txt", 'w', encoding='utf-8') as f:
        f.write("=" * 60 + "\n")
        f.write("üìß TEMPLATES EMAIL - ASSISTANT JURIDIQUE IA\n")
        f.write("=" * 60 + "\n\n")
        
        for name, template in email_templates.items():
            if isinstance(template, dict):
                f.write(f"üìã {name.upper()}\n")
                f.write("-" * 40 + "\n")
                for sub_name, sub_template in template.items():
                    f.write(f"\n{sub_name}:\n{sub_template}\n\n")
            else:
                f.write(f"üìã {name.upper()}\n")
                f.write("-" * 40 + "\n")
                f.write(f"{template}\n\n")
    
    # Demo script
    demo_script = generate_demo_script()
    with open(f"{package_dir}/demo_script.txt", 'w', encoding='utf-8') as f:
        f.write(demo_script)
    
    # LinkedIn content
    linkedin_posts = generate_linkedin_content()
    with open(f"{package_dir}/linkedin_content.txt", 'w', encoding='utf-8') as f:
        f.write("=" * 60 + "\n")
        f.write("üì± CONTENU LINKEDIN - ASSISTANT JURIDIQUE IA\n") 
        f.write("=" * 60 + "\n\n")
        
        for name, post in linkedin_posts.items():
            f.write(f"üìã {name.upper()}\n")
            f.write("-" * 40 + "\n")
            f.write(f"{post}\n\n")
    
    # Pricing sheet
    with open(f"{package_dir}/pricing_sheet.txt", 'w', encoding='utf-8') as f:
        f.write("=" * 60 + "\n")
        f.write("üí∞ GRILLE TARIFAIRE - ASSISTANT JURIDIQUE IA\n")
        f.write("=" * 60 + "\n\n")
        
        for tier_name, tier_info in PRICING_TIERS.items():
            f.write(f"üè∑Ô∏è {tier_name.upper()}\n")
            f.write("-" * 30 + "\n")
            f.write(f"Installation : ‚Ç¨{tier_info['setup_fee']}\n")
            f.write(f"Mensuel : ‚Ç¨{tier_info['monthly_fee']}\n")
            f.write(f"Documents max : {tier_info['max_documents']}\n")
            f.write(f"Support : {tier_info['support']}\n")
            f.write("Fonctionnalit√©s :\n")
            for feature in tier_info['features']:
                f.write(f"  ‚úÖ {feature}\n")
            f.write("\n")
    
    # Target prospects
    with open(f"{package_dir}/prospect_targets.txt", 'w', encoding='utf-8') as f:
        f.write("=" * 60 + "\n")
        f.write("üéØ CIBLES PROSPECTS - ASSISTANT JURIDIQUE IA\n")
        f.write("=" * 60 + "\n\n")
        
        f.write("VILLES PRIORITAIRES :\n")
        for city in TARGET_CITIES:
            f.write(f"  üìç {city}\n")
        
        f.write("\nSP√âCIALIT√âS JURIDIQUES :\n")
        for specialty in LEGAL_SPECIALTIES:
            f.write(f"  ‚öñÔ∏è {specialty}\n")
        
        f.write(f"\nCRIT√àRES CIBLES :\n")
        f.write("  üë• 10-50 employ√©s\n")
        f.write("  üí∞ Budget ‚Ç¨15,000+ annuel\n")
        f.write("  üèôÔ∏è Hors Paris (moins satur√©)\n")
        f.write("  üöÄ Ouverts √† l'innovation\n")
        f.write("  üìà Croissance recherch√©e\n")
    
    print(f"‚úÖ Package de vente cr√©√© dans : {package_dir}")
    print("üìÅ Fichiers g√©n√©r√©s :")
    for file in os.listdir(package_dir):
        if file.endswith('.txt'):
            print(f"   üìÑ {file}")
    
    return package_dir

if __name__ == "__main__":
    print("üöÄ G√©n√©ration du package de vente complet...")
    package_dir = create_sales_package()
    print(f"\nüéâ Package pr√™t ! Dossier : {package_dir}")